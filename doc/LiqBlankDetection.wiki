=====Blank detection=====

[[Liquidsoap]] has two operators for dealing with two different problems with blanks.

On GeekRadio, we play many files, some of which include bonus tracks, which means they end with a looong blank and then a little extra music. It's annoying to get that broadcasted. The ##skip_blank## operator skips the current track when a too long blank is detected, which avoids that. The typical usage is simple:
%%(python)
skip_blank(source)
%%

At RadioPi they have another problem: sometimes they have technical problems, and while they think they are doing a live show, they're only making noise in the studio, and blank is broadcasted; sometimes, the staff has so much fun (or is it something else ?) doing live shows that they live at the end of the show without thinking to turn off the live, and the listeners get blank again. To avoid that problem we made the ##strip_blank## operators which hides the stream when it's too blank, which perfectly suits the typical setup used for live shows:
%%(python)
set log.dir = "/tmp"
set log.stdout = true

interlude = one_file("/usr/share/mrpingouin/mp3bis/bodom/TheNail.ogg")
# After 5 sec of blank the microphone stream is ignored,
# which causes the stream to fallback to interlude.
# As soon as noise comes back to the microphone the stream comes
# back to the live -- thanks to track_sensitive=false.
stream = fallback(track_sensitive=false,
	              [ strip_blank(length=5.,mic()) , interlude ])

# Put that stream to a local file
output.ogg("/tmp/hop.ogg",stream)
%%

If you don't get the difference between these two operators, maybe you need to learn more about the basic concepts of Liquidsoap, especially the [[Liquidsoap notion of source]].